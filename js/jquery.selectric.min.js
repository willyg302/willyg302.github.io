/*! Selectric ÏŸ v1.6.0 (2014-02-06) - git.io/tjl9sQ - Copyright (c) 2013 Leonardo Santos - Dual licensed: MIT/GPL */
!function(a){var b="selectric",c=function(a){var b,c="40-46 50-53 54-57 62-70 71-74 61 47 77".replace(/\d+/g,"\\3$&").split(" ");for(b in c)a=a.toLowerCase().replace(RegExp("["+c[b]+"]","g"),"aeiouncy".charAt(b));return a},d=function(d,e){function f(){function d(a){/^(9|13|27)$/.test(a.keyCode||a.which)&&(a.stopPropagation(),j(q,!0))}var f=w.wrap('<div class="'+b+'HideSelect">').children(),h="<ul>",k=z.closest(":visible").children(":hidden"),s=e.maxHeight,t=f.filter(":"+K).index();r=q=~t?t:0,(v=f.length)&&(f.each(function(b){var d=a(this),e=d.text(),f=d.prop("disabled");B[b]={value:d.val(),text:e,slug:c(e),disabled:f},h+='<li class="'+(b==r?K:"")+(b==v-1?" last":"")+(f?" disabled":"")+'">'+e+"</li>"}),z.html(h+"</ul>"),C.text(B[r].text)),y.add(w).off(D),A.data(b,!0).prop("class",b+"Wrapper "+w.prop("class")+" "+I),w.prop("disabled")?x.prop("disabled",!0):(A.removeClass(I).hover(function(){a(this).toggleClass(b+"Hover")}),e.openOnHover&&y.on("mouseenter"+D,g),y.on(G,function(a){n?i():g(a)}),x.on({keypress:d,keydown:function(a){d(a),clearTimeout(p),p=setTimeout(function(){x.val("")},e.keySearchTimeout);var b=a.keyCode||a.which;b>36&&41>b&&j(39>b?m():l())},focusin:function(a){x.one("blur",function(){x.blur()}),n||g(a)}}).on(L,function(){x.val().length&&a.each(B,function(a,b){return RegExp("^"+x.val(),"i").test(b.slug)&&!b.disabled?(j(a),!1):void 0})}),o=a("li",z.removeAttr("style")).click(function(){return j(a(this).index(),!0),!1})),k.addClass(J);var E=z.outerWidth(),F=y.outerWidth()-(E-z.width());!e.expandToItemText||F>E?u=F:(z.css("overflow","scroll"),A.width(9e4),u=E,z.css("overflow",""),A.width("")),z.width(u).height()>s&&z.height(s),k.removeClass(J)}function g(b){b.preventDefault(),b.stopPropagation(),a("."+H).removeClass(H),n=!0,s=z.outerHeight(),h(),x.val("").is(":focus")||x.focus(),E.on(G,i),e.openOnHover&&(clearTimeout(t),A.one("mouseleave"+D,function(){t=setTimeout(i,500)})),A.addClass(H),k(q),e.onOpen(d)}function h(){n&&(z.css("top",A.offset().top+A.outerHeight()+s>F.scrollTop()+F.height()?-s:""),setTimeout(h,100))}function i(a){if(!a&&r!=q){var b=B[q].text;w.prop("selectedIndex",r=q).data("value",b).trigger("change",[b,r]),e.onChange(d),C.text(b)}E.off(D),A.removeClass(H),n=!1,e.onClose(d)}function j(a,b){B[q=a].disabled||(o.removeClass(K).eq(a).addClass(K),k(a),b&&i())}function k(a){var b=o.eq(a).outerHeight(),c=o[a].offsetTop,d=z.scrollTop(),e=c+2*b;z.scrollTop(e>d+s?e-s:d>c-b?c-b:d)}function l(a){if(B[a=(q+1)%v].disabled)for(;B[a=(a+1)%v].disabled;);return a}function m(a){if(B[a=(q>0?q:v)-1].disabled)for(;B[a=(a>0?a:v)-1].disabled;);return a}var e=a.extend({onOpen:a.noop,onClose:a.noop,onChange:a.noop,maxHeight:300,keySearchTimeout:500,arrowButtonMarkup:'<b class="button">&#x25be;</b>',disableOnMobile:!0,openOnHover:!1,expandToItemText:!1},e);if(!e.disableOnMobile||!/android|ip(hone|od|ad)/i.test(navigator.userAgent)){var n,o,p,q,r,s,t,u,v,w=a(d),x=a('<input type="text" class="'+b+'Input"/>'),y=a('<div class="'+b+'"><p class="label"/>'+e.arrowButtonMarkup+"</div>"),z=a('<div class="'+b+'Items" tabindex="-1"></div>'),A=w.data(b,!0).wrap("<div>").parent().append(y.add(z).add(x)),B=[],C=a(".label",y),D=".sl",E=a(document),F=a(window),G="click"+D,H=b+"Open",I=b+"Disabled",J=b+"TempShow",K="selected",L="oninput"in x[0]?"input":"keyup";f(),w.on({refresh:f,destroy:function(){z.add(y).remove(),w.removeData(b).removeData("value").off(D+" refresh destroy open close").unwrap().unwrap()},open:g,close:i})}};a.fn[b]=function(c,e){return this.each(function(){a(this).data(b)?""+c===c&&a(this).trigger(c):d(this,c||e)})}}(jQuery);